# 如何理解面向对象（OOP）

我理解为是对现实世界的映射，比如一辆车可以行驶的行为是接口，车辆如何启动和前往目的地是类的实现，不关系一辆车的齿轮和发动机到底如何运作只用踩下油门和换挡是封装，有很多车但是使用相同的发动机底盘和变速器是继承，一个人只要考了C1驾照就能开全部的小型车是多态。

以一种更为符合人类的思维的方式去组织代码和把控工程。

## 封装

属性是对同一类事物的特征的描述。  
方法是对同一类事物可执行操作操作的描述。  

封装就是把属性和方法包装到一个对象中，隐藏了内部的细节，只对外公开特定的接口与外部联系。

对封装而言，一个对象它所封装的是自己的属性和方法，所以它是不需要依赖其他对象就可以完成自己的操作。

**好处：**  
1. 良好的封装能够减少耦合  
2. 类内部的结构可以自由修改  
3. 可以对成员进行更精确的控制  
4. 隐藏信息和实现细节

## 继承

继承是使用已存在的类的定义作为基础建立新类的技术，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。  
继承所描述的是“is-a”的关系，如果有两个对象A和B，若可以描述为“A是B”，则可以表示A继承B，其中B是被继承者称之为父类或者超类，A是继承者称之为子类或者派生类。

**目的：**

实现代码的复用

**特点：**

1. 子类拥有父类非private的属性和方法  
2. 子类可以拥有自己属性和方法，即子类可以对父类进行扩展  
3. 子类可以用自己的方式实现父类的方法

**缺陷：**

1. 父类变，子类就必须变  
2. 继承破坏了封装，对于父类而言，它的实现细节对与子类来说都是透明的  
3. 继承是一种强耦合关系

## 多态

多态基于封装和继承的实现。  
以抽象的角度去描述一件事，而针对这件抽象的事，每个具体个体又能找到其自身的行为去执行。  
父类引用指向子类对象，调用方法时会调用子类的实现而不是父类的实现。

**技术实现：**

动态绑定（dynamic binding），是指在执行期间判断所引用对象的实 际类型，根据其实际的类型调用其相应的方法。

**作用：**

消除类型之间的耦合关系

**存在的条件：**

1. 要有继承  
2. 要有重写  
3. 父类引用指向子类对象

**实现方式：**

1. 接口实现  
2. 继承父类重写方法  
3. 同一个类中重载方法

## 如何理解多态

事物在运行过程中存在不同的状态。多态可以分为编译时多态和运行时多态，编译时多态是指方法的重载，运行时多态是指方法的重写。

* 对于运行时多态需要满足以下三个条件：
  
  1. 要有继承关系
  2. 子类重写父类方法
  3. 父类对象的引用指向子类对象（SuperClass class = new ChildClass() ）

* 实现的机制

    其实就是依靠静态分派和动态分派。

    静态分派即在编译期间就能完全确定，在类加载的解析阶段就会把所涉及的符号引用转化为可确定的直接引用，不会延迟到运行期再去完成，典型的例子就是方法重载。

    动态分派是指在运行期间才能确定变量的实际类型，典型的例子就是方法的重写。只有在运行期间，根据对实例化子类的不同，调用不同子类中重写的方法。

    参考：多态性实现机制——静态分派与动态分派